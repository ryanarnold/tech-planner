{% extends "base.html" %}


{% block styles %}
  <link rel="stylesheet" href="{{ static('css/products.css') }}" >
{% endblock styles %}


{% block content %}

  <h1 id="page-heading">Products</h1>

  <p>Add a product:</p>

  <div class="row">
    <div class="col-md-8">
      <form action="{{ url('products')}}" method="POST">
        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
        
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend">
              <label class="input-group-text" for="input-name">Product Name</label>
            </div>
            <input type="text" class="form-control" id="input-name" name="name" autocomplete="off" required autofocus>
          </div>
        </div>
    
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend">
              <label class="input-group-text" for="input-category">Category</label>
            </div>
            <select class="custom-select" id="input-category" name="category">
              <option selected>Choose...</option>

              {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
              {% endfor %}

            </select>
          </div>
        </div>
    
        <div class="form-group" id="form-text-box">
          <div class="input-group">
            <div class="input-group-prepend">
              <label class="input-group-text" for="input-price">&#8369;</label>
            </div>
            <input type="number" class="form-control" id="input-price" name="price" autocomplete="off" placeholder="Price" required>
          </div>
        </div>
    
        <button type="submit" class="btn btn-outline-success"><i class="fas fa-plus"></i> Add</button>
      </form>
    </div>
    <div class="col-md-4"></div>
  </div>
  

  <table class="table table-hover table-sm">
    <thead>
      <tr>
        <th class="tabble-col-100" scope="col">Category</th>
        <th class="tabble-col-100" scope="col">Name</th>
        <th class="tabble-col-100 text-right" scope="col">Price</th>
        <th class="tabble-col-100" scope="col"></th>
      </tr>
    </thead>
    <tbody>

      {% for product in products %}
        <tr>
          <td>{{ product.category.name }}</td>
          <td>{{ product.name }}</td>
          <td class="text-right">&#8369; {{ product.price }}</td>
          <td>
            <a href="{{ url('product_delete', args=(product.id,)) }}" >delete</a>
          </td>
        </tr>
      {% endfor %}
      
    </tbody>
  </table>

{% endblock %}